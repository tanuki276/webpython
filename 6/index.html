<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>サンマル線 - SML</title>
    <style>
        /* Base & Layout */
        :root {
            --wiki-main: #f8f9fa;
            --wiki-border: #a2a9b1;
            --wiki-link: #0645ad;
            --wiki-header-bg: #eaecf0;
            --map-bg: #e6e6e6; 
            --sml-color: #dc3545; /* サンマル線の赤色 */
            --sml-blue: #007bff; /* 西部エリアの色 */
            --sml-green: #28a745; /* 東部エリアの色 */
        }
        body {
            font-family: 'Times New Roman', Times, serif;
            line-height: 1.5;
            background-color: var(--wiki-main);
            color: #000;
            padding: 0;
            margin: 0;
            font-size: 0.9em;
        }
        .container {
            max-width: 1280px;
            display: flex;
            margin: 0 auto;
            padding: 20px;
        }
        .main-content {
            flex-grow: 1;
            background-color: white;
            padding: 10px 30px;
            border: 1px solid var(--wiki-border);
            border-top: none;
            min-height: 100vh;
        }
        /* Headers & Links */
        h1 {
            font-size: 1.8em;
            font-weight: normal;
            border-bottom: 1px solid var(--wiki-border);
            padding-bottom: 5px;
            margin-bottom: 5px;
        }
        h2 {
            font-size: 1.4em;
            border-bottom: 1px solid var(--wiki-border);
            padding-bottom: 2px;
            margin-top: 1.5em;
        }
        h3 {
            font-size: 1.1em;
            margin-top: 1em;
        }
        a {
            color: var(--wiki-link);
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }

        /* Infobox (右側の表) */
        .infobox {
            width: 300px;
            margin-left: 20px;
            padding: 0;
            border: 1px solid var(--wiki-border);
            background-color: #f9f9f9;
            font-size: 0.9em;
            flex-shrink: 0;
            float: right;
            margin: 0 0 1em 1em;
            clear: right;
            border-collapse: collapse;
        }
        .infobox caption {
            background-color: var(--wiki-header-bg);
            font-size: 1.1em;
            font-weight: bold;
            padding: 5px;
            text-align: center;
            color: var(--sml-color);
        }
        .infobox table {
            width: 100%;
            border-collapse: collapse;
        }
        .infobox th, .infobox td {
            padding: 4px 8px;
            border-top: 1px solid var(--wiki-border);
            text-align: left;
        }
        .infobox th {
            width: 40%;
            background-color: var(--wiki-header-bg);
        }

        /* TOC (目次) */
        #toc {
            border: 1px solid var(--wiki-border);
            background-color: #f9f9f9;
            padding: 10px;
            margin: 1em 0;
            width: fit-content;
        }
        #toc h2 {
            font-size: 1.1em;
            margin: 0;
            border-bottom: none;
        }

        /* 路線表のスタイル */
        .route-table { 
            width: 100%;
            margin: 1em auto;
            border: 1px solid var(--wiki-border);
            border-collapse: collapse;
            font-size: 0.85em;
        }
        .route-table th {
            background-color: var(--wiki-header-bg);
            color: #000;
        }
        .route-table th, .route-table td {
            border: 1px solid var(--wiki-border);
            padding: 4px 6px;
        }
        .route-table td:nth-child(n+3):nth-child(-n+6) { /* 停車記号カラム */
            text-align: center;
            font-weight: bold;
        }
        .key-stop {
            background-color: #ffe0e0; /* 主要駅強調色 */
            font-weight: bold;
        }

        /* 停車駅比較表のスタイル */
        .route-comparison-table {
            width: 90%;
            margin: 1.5em auto;
            border: 2px solid var(--sml-color);
            border-collapse: collapse;
            font-size: 0.85em;
        }
        .route-comparison-table caption {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .route-comparison-table th {
            background-color: #fcecec;
            padding: 6px 8px;
            border: 1px solid var(--wiki-border);
        }
        .route-comparison-table td {
            text-align: center;
            padding: 4px 8px;
            border: 1px solid var(--wiki-border);
        }
        .route-comparison-table td:first-child {
            text-align: left;
            font-weight: normal;
        }
        /* 都心タワーの行を特に強調 */
        .route-comparison-table tr:nth-child(8) {
            background-color: #e0f0ff !important;
        }

        /* データテーブルの追加スタイル */
        .data-table {
            border: 1px solid var(--wiki-border);
            border-collapse: collapse;
            font-size: 0.85em;
        }
        .data-table caption {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .data-table th, .data-table td {
            border: 1px solid var(--wiki-border);
            padding: 5px 10px;
            text-align: center;
        }
        .data-table th {
            background-color: var(--wiki-header-bg);
        }

        /* ------------------------------------------- */
        /* UI/UX要素: トップに戻るボタン (参照元のスタイルを適用) */
        /* ------------------------------------------- */
        #backToTop {
            display: none; 
            position: fixed;
            bottom: 60px; /* クッキーバナーを考慮 */
            right: 30px;
            z-index: 99;
            border: none;
            outline: none;
            background-color: rgba(6, 69, 173, 0.7);
            color: white;
            cursor: pointer;
            padding: 12px 18px;
            border-radius: 5px;
            font-size: 20px;
            line-height: 1;
            font-family: Arial, sans-serif; 
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        #backToTop:hover {
            background-color: var(--wiki-link);
        }

        /* ------------------------------------------- */
        /* UI/UX要素: クッキー通知 (参照元のスタイルを適用) */
        /* ------------------------------------------- */
        #genericCookieNotice {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(34, 34, 34, 0.95); /* 濃いグレー */
            color: #fff;
            padding: 15px 20px;
            text-align: center;
            font-size: 0.9em;
            z-index: 9999;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            display: none; /* 初期状態ではJavaScriptで表示を制御 */
        }
        #genericCookieNotice a {
            color: #add8e6;
            text-decoration: underline;
            margin: 0 5px;
        }
        #genericCookieNotice button {
            background-color: #0645ad;
            color: #fff;
            border: none;
            padding: 8px 20px;
            cursor: pointer;
            margin-left: 20px;
            border-radius: 4px;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        #genericCookieNotice button:hover {
            background-color: #043685;
        }

        /* ============== グラフ表示（CSSのみで実現）のスタイル ============== */
        .chart-container {
            margin: 2em auto;
            width: 90%;
            max-width: 800px;
            padding: 10px;
            background-color: #fff;
            border: 1px solid #ccc;
        }
        .bar-chart {
            display: flex;
            align-items: flex-end;
            border-left: 1px solid #000;
            border-bottom: 1px solid #000;
            height: 250px;
            padding: 0 10px;
            justify-content: space-around;
            position: relative;
        }
        .bar-chart::before { /* Y軸の目盛り代わり */
            content: '30万';
            position: absolute;
            top: 0;
            left: -35px;
            font-size: 0.7em;
        }
        .bar-chart::after {
            content: '0';
            position: absolute;
            bottom: -20px;
            left: -10px;
            font-size: 0.7em;
        }
        .bar-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 12%;
            margin: 0 5px;
            position: relative;
        }
        .bar {
            width: 100%;
            background-color: var(--sml-color);
            transition: height 0.5s;
            position: relative;
        }
        .bar-label {
            font-size: 0.75em;
            margin-top: 5px;
            text-align: center;
            white-space: nowrap;
        }
        .bar-value {
            position: absolute;
            top: -20px;
            font-size: 0.7em;
            font-weight: bold;
            color: #333;
        }

        /* 運行本数グラフのスタイル */
        .stacked-bar-chart {
            display: flex;
            flex-direction: column;
            height: 200px;
            padding: 10px 0;
            justify-content: space-around;
            border-left: 1px solid #000;
            border-bottom: 1px solid #000;
            position: relative;
        }
        .stacked-bar-chart::before {
            content: '25本/時';
            position: absolute;
            top: 0;
            left: -60px;
            font-size: 0.7em;
        }
        .stacked-bar-chart::after {
            content: '0';
            position: absolute;
            bottom: -20px;
            left: -10px;
            font-size: 0.7em;
        }
        .bar-group {
            display: flex;
            height: 40%;
            margin: 10px 0;
            align-items: center;
            position: relative;
        }
        .segment {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.7em;
        }
        .label-axis {
            position: absolute;
            left: -100px;
            font-size: 0.8em;
            font-weight: bold;
            width: 100px;
            text-align: right;
        }
        .total-label {
            position: absolute;
            right: -50px;
            font-weight: bold;
            font-size: 0.9em;
            color: #000;
        }
        .legend {
            margin-top: 15px;
            text-align: center;
            font-size: 0.8em;
        }
        .legend-item {
            display: inline-block;
            margin-right: 15px;
        }
        .legend-color {
            display: inline-block;
            width: 12px;
            height: 12px;
            margin-right: 5px;
            border: 1px solid #333;
            vertical-align: middle;
        }

        /* ============== レスポンシブ対応の修正 (モバイル) ============= */
        @media (max-width: 768px) {
             .container {
                padding: 10px;
                display: block; /* 縦並びにする */
             }
             .main-content {
                padding: 10px 15px;
             }
             .infobox {
                width: 100%;
                margin: 0 0 1em 0;
                float: none;
             }
             #genericCookieNotice {
                padding: 10px 15px;
                font-size: 0.75em;
                display: flex; /* 要素をflexで制御 */
                flex-wrap: wrap; /* スマホで折り返す */
                justify-content: center;
                align-items: center;
             }
             #genericCookieNotice button {
                margin-top: 5px;
                margin-left: 0;
                width: 100%;
             }
             #toc {
                width: 95%;
            }
             /* グラフのレスポンシブ調整 */
             .bar-chart {
                height: 150px;
                padding: 0 5px;
             }
             .bar-item {
                width: 10%;
                margin: 0 3px;
             }
             .bar-label {
                font-size: 0.6em;
                word-wrap: break-word;
             }
             .bar-value {
                top: -15px;
                font-size: 0.6em;
             }
             .stacked-bar-chart {
                height: 150px;
             }
             .stacked-bar-chart::before {
                left: -45px;
             }
             .label-axis {
                left: -80px;
                width: 70px;
                font-size: 0.7em;
             }
             .total-label {
                right: -40px;
                font-size: 0.8em;
             }
        }
        @media (max-width: 600px) {
            /* 600px以下の追加調整 */
            .bar-chart {
                height: 120px;
            }
            .bar-item {
                margin: 0 2px;
            }
            .bar-value {
                top: -10px;
                font-size: 0.55em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="main-content">
            <h1>サンマル線</h1>

            <table class="infobox" role="presentation">
                <caption>サンマル線（SML）</caption>
                <tr><td colspan="2" style="text-align:center;"></td></tr>
                <tr><th>事業者</th><td><a href="#">首都圏交通公社 (SCT)</a></td></tr>
                <tr><th>種別</th><td>地下鉄・通勤路線</td></tr>
                <tr><th>路線距離</th><td>41.5 km</td></tr>
                <tr><th>駅数</th><td>25駅</td></tr>
                <tr><th>軌間</th><td>1,067 mm (狭軌)</td></tr>
                <tr><th>電化方式</th><td>直流 1,500 V</td></tr>
                <tr><th>最高速度</th><td>110 km/h</td></tr>
                <tr><th>運行頻度</th><td>ピーク時 最大25本/時</td></tr>
                <tr><th>開業</th><td>1985年3月14日</td></tr>
                <tr><th colspan="2" style="text-align:center;">運行系統</th></tr>
                <tr><th>西部エリア</th><td><span style="color: var(--sml-blue);">青ライン</span></td></tr>
                <tr><th>東部エリア</th><td><span style="color: var(--sml-green);">緑ライン</span></td></tr>
            </table>

            <p>
                <b>サンマル線</b>（サンマルせん、SML: San-Maru Line）は、<a href="#">首都圏交通公社 (SCT)</a>が運営する主要な通勤鉄道路線の一つである。都心を南北に貫き、西部と東部の郊外を結ぶ大動脈として機能している。正式な路線番号は **M03** であり、ラインカラーは情熱的な<span style="color: var(--sml-color); font-weight: bold;">赤</span>が採用されている。
            </p>

            <div id="toc">
                <h2>目次</h2>
                <ul>
                    <li><a href="#概要と特徴">1 概要と特徴</a></li>
                    <li><a href="#運行形態">2 運行形態と種別</a></li>
                    <li><a href="#駅一覧">3 駅一覧</a></li>
                    <li><a href="#乗降客数データ">4 乗降客数データ</a></li>
                    <li><a href="#運行本数の比較">5 運行本数の比較</a></li>
                </ul>
            </div>

            <h2 id="概要と特徴">1 概要と特徴</h2>
            <p>
                サンマル線は、1985年に都心部の急激な人口集中に対応するために開業した。路線は主に地下を走行し、郊外区間のみが高架または地上線となっている。その特徴は、西部・東部それぞれの郊外路線との相互直通運転を前提とした設計であり、**都心部の混雑緩和と郊外からの速達性**の両立を目指している。
            </p>

            <h2 id="運行形態">2 運行形態と種別</h2>
            <p>
                運行種別は、<b>普通</b>、<b>快速</b>、そして都心部へのアクセスを重視した<b>都心特快</b>の3種類が設定されている。
            </p>
            
            <h3 id="都心特快">2.1 都心特快 (Urban Express)</h3>
            <p>
                主要なターミナル駅のみに停車し、都心部への最速達性を実現する種別である。朝夕のラッシュ時のみに運行され、郊外から都心タワー駅（SML13）までの所要時間を大幅に短縮している。
            </p>
            <table class="route-comparison-table">
                <caption>主要駅間の停車状況比較</caption>
                <thead>
                    <tr>
                        <th>駅名</th>
                        <th>普通</th>
                        <th>快速</th>
                        <th>都心特快</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>西端ターミナル (SML01)</td><td>●</td><td>●</td><td>●</td></tr>
                    <tr><td>郊外ニュータウン (SML05)</td><td>●</td><td>▲</td><td>｜</td></tr>
                    <tr><td>湾岸コンベンション (SML08)</td><td>●</td><td>●</td><td>｜</td></tr>
                    <tr><td>都心タワー (SML13)</td><td class="key-stop">●</td><td class="key-stop">●</td><td class="key-stop">●</td></tr>
                    <tr><td>中央地下街 (SML15)</td><td class="key-stop">●</td><td class="key-stop">●</td><td>●</td></tr>
                    <tr><td>東部オフィス (SML18)</td><td>●</td><td>▲</td><td>｜</td></tr>
                    <tr><td>東端ニュータウン (SML25)</td><td>●</td><td>●</td><td>●</td></tr>
                </tbody>
                <tfoot>
                    <tr><td colspan="4" style="text-align:left; font-size:0.8em;">凡例: ●:停車 ▲:一部停車 ｜:通過</td></tr>
                </tfoot>
            </table>

            <h2 id="駅一覧">3 駅一覧</h2>
            <p>
                路線は、主に西部・都心・東部の3つのエリアに分けられる。
            </p>
            <table class="route-table">
                <thead>
                    <tr>
                        <th style="width:5%">駅番号</th>
                        <th style="width:20%">駅名</th>
                        <th style="width:15%">普通</th>
                        <th style="width:15%">快速</th>
                        <th style="width:15%">都心特快</th>
                        <th style="width:20%">接続路線</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>SML01</td><td class="key-stop">西端ターミナル</td><td>●</td><td>●</td><td>●</td><td>西部鉄道線(直通)</td></tr>
                    <tr><td>SML02</td><td>郊外北</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML03</td><td>大学前</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML04</td><td>新都心南</td><td>●</td><td>▲</td><td>｜</td><td></td></tr>
                    <tr><td>SML05</td><td>郊外ニュータウン</td><td>●</td><td>●</td><td>｜</td><td></td></tr>
                    <tr><td>SML06</td><td>工業団地</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML07</td><td>港湾入口</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML08</td><td>湾岸コンベンション</td><td>●</td><td>●</td><td>｜</td><td>地下鉄A線</td></tr>
                    <tr><td>SML09</td><td>中央市場前</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML10</td><td>オフィス街西</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML11</td><td>都心西</td><td>●</td><td>●</td><td>▲</td><td>JR線</td></tr>
                    <tr><td>SML12</td><td>都心中央</td><td>●</td><td>●</td><td>▲</td><td>地下鉄B線</td></tr>
                    <tr style="background-color: #fce0e0;"><td>SML13</td><td class="key-stop">都心タワー</td><td>●</td><td>●</td><td>●</td><td>地下鉄C線、新幹線</td></tr>
                    <tr><td>SML14</td><td>都心東</td><td>●</td><td>●</td><td>｜</td><td></td></tr>
                    <tr><td>SML15</td><td class="key-stop">中央地下街</td><td>●</td><td>●</td><td>●</td><td>地下鉄D線、私鉄線</td></tr>
                    <tr><td>SML16</td><td>レジャーランド</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML17</td><td>東部工業</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML18</td><td>東部オフィス</td><td>●</td><td>▲</td><td>｜</td><td></td></tr>
                    <tr><td>SML19</td><td>郊外団地中央</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML20</td><td>スポーツ公園</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML21</td><td>郊外東</td><td>●</td><td>●</td><td>｜</td><td></td></tr>
                    <tr><td>SML22</td><td>空港アクセス線接続</td><td>●</td><td>▲</td><td>｜</td><td>空港アクセス線</td></tr>
                    <tr><td>SML23</td><td>東端中間</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML24</td><td>東端工場</td><td>●</td><td>｜</td><td>｜</td><td></td></tr>
                    <tr><td>SML25</td><td class="key-stop">東端ニュータウン</td><td>●</td><td>●</td><td>●</td><td>東部高速鉄道(直通)</td></tr>
                </tbody>
            </table>

            <h2 id="乗降客数データ">4 乗降客数データ</h2>
            <p>
                2024年度の主要駅における1日平均乗降客数（概算）を以下の棒グラフで示します。都心タワー駅の利用者数が突出していることが分かります。
            </p>
            <div class="chart-container">
                <div class="bar-chart" aria-label="サンマル線 主要駅 1日平均乗降客数 2024年度">
                    <div class="bar-item">
                        <div class="bar-value">18万</div>
                        <div class="bar" style="height: 60%;"></div>
                        <div class="bar-label">SML01</div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-value">9万</div>
                        <div class="bar" style="height: 30%;"></div>
                        <div class="bar-label">SML05</div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-value">25万</div>
                        <div class="bar" style="height: 83.3%;"></div>
                        <div class="bar-label">SML11</div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-value">30万</div>
                        <div class="bar" style="height: 100%;"></div>
                        <div class="bar-label">SML13<br>(都心タワー)</div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-value">22万</div>
                        <div class="bar" style="height: 73.3%;"></div>
                        <div class="bar-label">SML15</div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-value">11万</div>
                        <div class="bar" style="height: 36.6%;"></div>
                        <div class="bar-label">SML21</div>
                    </div>
                    <div class="bar-item">
                        <div class="bar-value">15万</div>
                        <div class="bar" style="height: 50%;"></div>
                        <div class="bar-label">SML25</div>
                    </div>
                </div>
                <p style="text-align: center; font-size: 0.8em; margin-top: 5px;">1日平均乗降客数（概算）</p>
            </div>

            <h2 id="運行本数の比較">5 運行本数の比較</h2>
            <p>
                平日朝ラッシュ時（7:30-8:30）における、都心タワー駅を通過する方面別・種別ごとの運行本数を示します。
            </p>
            <div class="chart-container">
                <div class="stacked-bar-chart" aria-label="平日朝ラッシュ時 運行本数比較">
                    <div class="bar-group">
                        <div class="label-axis">西部方面 (SML01へ)</div>
                        <div class="segment" style="width: 40%; background-color: var(--sml-blue);">普通 (10)</div>
                        <div class="segment" style="width: 20%; background-color: #5aa7ff;">快速 (5)</div>
                        <div class="segment" style="width: 12%; background-color: #004d9c;">都心特快 (3)</div>
                        <div class="total-label">18本</div>
                    </div>
                    <div class="bar-group">
                        <div class="label-axis">東部方面 (SML25へ)</div>
                        <div class="segment" style="width: 44%; background-color: var(--sml-green);">普通 (11)</div>
                        <div class="segment" style="width: 24%; background-color: #79d291;">快速 (6)</div>
                        <div class="segment" style="width: 16%; background-color: #1a6f30;">都心特快 (4)</div>
                        <div class="total-label">21本</div>
                    </div>
                </div>
                <div class="legend">
                    <span class="legend-item"><span class="legend-color" style="background-color: var(--sml-blue);"></span>普通 (西部)</span>
                    <span class="legend-item"><span class="legend-color" style="background-color: #5aa7ff;"></span>快速 (西部)</span>
                    <span class="legend-item"><span class="legend-color" style="background-color: #004d9c;"></span>都心特快 (西部)</span>
                    <span class="legend-item"><span class="legend-color" style="background-color: var(--sml-green);"></span>普通 (東部)</span>
                    <span class="legend-item"><span class="legend-color" style="background-color: #79d291;"></span>快速 (東部)</span>
                    <span class="legend-item"><span class="legend-color" style="background-color: #1a6f30;"></span>都心特快 (東部)</span>
                </div>
                <p style="text-align: center; font-size: 0.8em; margin-top: 15px;">平日朝ラッシュ時（7:30-8:30）1時間あたりの運行本数</p>
            </div>
            
        </div>
    </div>
    <button onclick="topFunction()" id="backToTop" title="トップに戻る">↑</button>

    <div id="genericCookieNotice">
        このサイトでは、サイトの利用状況を分析し、より良いサービスを提供するために情報を**ローカルに保存**しています。 
        <a href="/ak/index.html" target="_blank">詳細はこちら</a>
        <button onclick="acceptCookieConsent()">同意する</button>
    </div>

    <script>
        // --- 1. トップに戻るボタンのJS ---
        let mybutton = document.getElementById("backToTop");

        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
            // スクロール量が200pxを超えたらボタンを表示する
            if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        }

        // クリック時にページの最上部へスムーズにスクロールする
        function topFunction() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // --- 2. LocalStorageロジックのJS (同意バナー) ---

        /**
         * LocalStorageから指定されたキーの値を取得する
         * @param {string} name - 取得したいキーの名前
         * @returns {string | null} キーの値。存在しない場合はnull
         */
        function getLocalStorage(name) {
            return localStorage.getItem(name);
        }

        /**
         * LocalStorageにキーと値を設定する
         * @param {string} name - 設定したいキーの名前
         * @param {string} value - 設定したい値
         */
        function setLocalStorage(name, value) {
            localStorage.setItem(name, value);
        }

        function showCookieNotice() {
            const notice = document.getElementById('genericCookieNotice');
            if (notice) {
                notice.style.display = 'block';
                // バナー内の表示テキストをLocalStorage利用に合わせて調整
                notice.innerHTML = 'このサイトでは、サイトの利用状況を分析し、より良いサービスを提供するために情報を**ローカルに保存**しています。 <a href="/ak/index.html" target="_blank">詳細はこちら</a> <button onclick="acceptCookieConsent()">同意する</button>';
            }
        }

        function acceptCookieConsent() {
            // LocalStorageに同意状態を保存
            setLocalStorage('cookie-consent', 'accepted'); 

            // バナーを非表示にする
            const notice = document.getElementById('genericCookieNotice');
            if (notice) {
                notice.style.display = 'none';
            }
        }

        // ページ読み込み時に実行
        document.addEventListener('DOMContentLoaded', () => {
            // LocalStorageから保存状態を確認
            if (getLocalStorage('cookie-consent') !== 'accepted') {
                showCookieNotice();
            }
        });
    </script>
</body>
</html>
